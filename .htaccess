RewriteEngine On
RewriteBase /

# Nếu truy cập /admin → vào admin.php
RewriteRule ^admin/?$ admin.php [QSA,L]

# Nếu truy cập /ad/abc → rewrite về admin.php?abc (backward compatibility)
RewriteRule ^ad/([a-zA-Z0-9_-]+)$ admin.php?$1 [QSA,L]

# Nếu chỉ là /ad → vào admin.php (backward compatibility)
RewriteRule ^ad/?$ admin.php [L]

# Bỏ qua file/thư mục có thật (css, js, ảnh, vendor, v.v.)
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule . - [L]

# URL thân thiện cho trang cá nhân: /username 
# Cho phép chữ, số, gạch nối, gạch dưới (phù hợp với createSlug)
RewriteRule ^([A-Za-z0-9_-]+)/?$ index.php?username=$1 [QSA,L]